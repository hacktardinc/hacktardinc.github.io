---
title: DART CTF - Objective 1
description: DART CTF - Objective 1 Walkthrough
author: oste
date: 2023-12-16 01:09:33 +0300
categories: [Offensive Security & Red Teaming, Azure Red Teaming Labs, DART CTF]
tags: [azure, webapp, SAS url, api, logic app, redteaming, offensive security]
image: /assets/img/Posts/az1.png
#   path: assets/img/Posts/forest.png
#   alt: Responsive rendering of Chirpy theme on multiple devices.
---



Hey there and welcome back to another blog post series. This time, I'm excited to share my experiences delving into cloud security, with a particular focus on Azure Pentesting. On December 5th, 2023 i came across a tweet from [Nikhil Mittal](https://twitter.com/nikhil_mitt) where he announced a FREE live class on "An introduction to Azure Red Teaming" , hosted by [Altered Security](https://twitter.com/alteredsecurity).  Eager to learn, I signed up for the class at [redlabs.enterprisesecurity.io](https://redlabs.enterprisesecurity.io/) and joined the insightful and informative session on December 16th, 2023.

The course covered several key areas, including:

- Introduction to Azure and Azure AD
- Discovery and REcon of services and applications
- Initial access
- Enumeration
- Authenticated enumeration
- Privilege escalation
- Lateral movement
- Abuse of Azure services - storage, Logic Apps, Function App, Key Vault, Cosmos DB and more.

Already having some background in Azure, this course, particularly the lab exercises, greatly enhanced my understanding and piqued my interest in further exploring Azure. My aim is to make this blog series both informative and comprehensive, catering to a wide range of audiences from beginners to experts.

For those interested in joining in, the lab scenario (DART CTF) has been available since March 2023. It's free and specifically designed to assist junior security professionals, penetration testers, and red teamers in improving their skills in Azure red teaming.

# Lab Prerequisites

- Minimum of 8 GB RAM if using a Virtual Machine to solve the lab.
- PowerShell version 5 or above.
- Required tools
  - Browser
  - [Python](https://www.python.org/downloads/)
  - [Azure Storage Explorer](https://azure.microsoft.com/en-us/features/storage-explorer/)
  - [Azure PowerShell](https://www.powershellgallery.com/packages/Az/6.6.0)
  - [Azure CosmosDB module and explorer](https://learn.microsoft.com/en-us/powershell/module/az.cosmosdb)
  - [FFUF](https://github.com/ffuf/ffuf/releases)

# Objective 1

**Task**
- Using the website - https://initiatedart.z13.web.core.windows.net/, find out more information
about DARTâ€™s resources in Azure.
- Capture Flag 1.


## Solution

Visiting the website, you get an Azure Static Web App:

https://initiatedart.z13.web.core.windows.net/#about

![image](https://gist.github.com/assets/58165365/31788940-011a-4fad-86e0-b7805ee37e99)


There is nothing really interesting to poke around with, so let's review the page source. I realised that the css was fetched from the companies ([AlteredSecurity](https://github.com/AlteredSecurity/DARTApp)) github:

![image](https://gist.github.com/assets/58165365/240e832f-15f1-46c0-bbf9-e0422687720e)

I also came across an exposed SAS Url that we will explore later.

![image](https://gist.github.com/assets/58165365/a90cf5ee-fc85-48b0-a4dc-d6f2a5fbb082)

However, visiting it displays an image.

![image](https://gist.github.com/assets/58165365/9f7a2c5e-61f9-4c74-87ff-5c661aeca3f2)

Exploring the css file fetched from github leaked yet another url that looks like a Microsoft logic app URL and **Flag 1**

![image](https://gist.github.com/assets/58165365/5cf09939-69d4-45dd-a7bd-e3c400836aef)

Visiting the URL, you get this error

![image](https://gist.github.com/assets/58165365/3da014d1-7c26-443b-9203-99cbd53c00e4)

This indicates that the request is missing a required query parameter: `api-version`. In Azure services, and particularly in Logic Apps, the `api-version` query parameter is often mandatory for API requests. This parameter specifies the version of the API that the request is intended for, ensuring that the correct version of the API is used to process the request.

In the next blog post of this series, we are going to dig deeper and see if we can find the `api-version` information in [**Objective 2**](https://05t3.github.io/posts/Azure-Pentesting-Lab-2/). I'm also going to explain more about SAS URLs & Azure Logic Apps.

See you there. ðŸ˜Ž
